<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>VNetworkLWTNN class | FastCaloSim</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">FastCaloSim</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li>
              <a href="pages.html">Pages</a>
              <ol>
                <li><a href="about.html">About</a></li>
              </ol>
            </li>
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          VNetworkLWTNN <span class="m-thin">class</span>
          <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="VNetworkLWTNN_8h.html">&lt;VNetworkLWTNN.h&gt;</a></div>
        </h1>
        <p>A template defining the interface to a lwtnn network.</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#base-classes">Base classes</a></li>
                <li><a href="#derived-classes">Derived classes</a></li>
                <li><a href="#typeless-methods">Constructors, destructors, conversion operators</a></li>
                <li><a href="#pub-methods">Public functions</a></li>
                <li><a href="#pro-methods">Protected functions</a></li>
                <li><a href="#pro-attribs">Protected variables</a></li>
              </ul>
            </li>
          </ul>
        </div>
<p>Copyright (C) 2002-2024 CERN for the benefit of the ATLAS collaboration</p><p>Abstract base class for LWTNN Neural networks. Inherits from a generic abstract network class, and defined aspects common to all LWTNN networks.</p><p>In particular, this derived virtual class handles saving, memory management and printing.</p><p>To classes derive from this class;</p><ul><li><a href="classTFCSSimpleLWTNNHandler.html" class="m-doc">TFCSSimpleLWTNNHandler</a>; Designed to wrap a lwtnn neural network</li><li><a href="classTFCSGANLWTNNHandler.html" class="m-doc">TFCSGANLWTNNHandler</a>; Designed to wrap a lwtnn graph network Has various subclasses to cover the various formats of lwtnn networks.</li></ul>
        <section id="base-classes">
          <h2><a href="#base-classes">Base classes</a></h2>
          <dl class="m-doc">
            <dt>
              class <a href="classVNetworkBase.html" class="m-doc">VNetworkBase</a>
            </dt>
            <dd>A template defining the interface to a neural network.</dd>
          </dl>
        </section>
        <section id="derived-classes">
          <h2><a href="#derived-classes">Derived classes</a></h2>
          <dl class="m-doc">
            <dt>
              class <a href="classTFCSGANLWTNNHandler.html" class="m-doc">TFCSGANLWTNNHandler</a>
            </dt>
            <dd></dd>
            <dt>
              class <a href="classTFCSSimpleLWTNNHandler.html" class="m-doc">TFCSSimpleLWTNNHandler</a>
            </dt>
            <dd></dd>
          </dl>
        </section>
        <section id="typeless-methods">
          <h2><a href="#typeless-methods">Constructors, destructors, conversion operators</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#acb9b2432f03458c908189c14038ebf07" class="m-doc">VNetworkLWTNN</a>(</span><span class="m-doc-wrap">const <a href="classVNetworkLWTNN.html" class="m-doc">VNetworkLWTNN</a>&amp; copy_from)</span>
            </dt>
            <dd><a href="classVNetworkLWTNN.html" class="m-doc">VNetworkLWTNN</a> copy constructor.</dd>
            <dt id="a1e24597af5454d4a28cc2950f4725f9b">
              <span class="m-doc-wrap-bumper"><a href="#a1e24597af5454d4a28cc2950f4725f9b" class="m-doc-self">~VNetworkLWTNN</a>(</span><span class="m-doc-wrap">) <span class="m-label m-flat m-warning">virtual</span></span>
            </dt>
            <dd><span></span></dd>
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#a2e82d2bc703228de253d4397e401b877" class="m-doc">VNetworkBase</a>(</span><span class="m-doc-wrap">)</span>
            </dt>
            <dd><a href="classVNetworkBase.html" class="m-doc">VNetworkBase</a> default constructor.</dd>
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#af0ce4f963d627913b64550927dfe65aa" class="m-doc">VNetworkBase</a>(</span><span class="m-doc-wrap">) <span class="m-label m-flat m-info">explicit</span> </span>
            </dt>
            <dd><a href="classVNetworkBase.html" class="m-doc">VNetworkBase</a> constructor.</dd>
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#ac0a4898e4187e4d44fb53ef860ee6dde" class="m-doc">VNetworkBase</a>(</span><span class="m-doc-wrap">)</span>
            </dt>
            <dd><a href="classVNetworkBase.html" class="m-doc">VNetworkBase</a> copy constructor.</dd>
          </dl>
        </section>
        <section id="pub-methods">
          <h2><a href="#pub-methods">Public functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a38dbb4f206b74ef061cd01c3061aff0a" class="m-doc">writeNetToTTree</a>(</span><span class="m-doc-wrap">TTree&amp; tree) <span class="m-label m-flat m-warning">override</span></span>
            </dt>
            <dd>Save the network to a TTree.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a0f14840c2389a267313145fded6c911a" class="m-doc">deleteAllButNet</a>(</span><span class="m-doc-wrap">) <span class="m-label m-flat m-warning">override</span></span>
            </dt>
            <dd>Get rid of any memory objects that aren&#x27;t needed to run the net.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a67a72e59de0fce8cd056fdb5429ec0b3" class="m-doc">writeNetToTTree</a>(</span><span class="m-doc-wrap">) <span class="m-label m-flat m-warning">pure virtual</span></span>
            </dt>
            <dd>Save the network to a TTree.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a365a55b8d028e0c9c2b39c72cd861933" class="m-doc">writeNetToTTree</a>(</span><span class="m-doc-wrap">)</span>
            </dt>
            <dd>Save the network to a TTree.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#aeb2725fc6b5413c92f2e4619941b0d2e" class="m-doc">writeNetToTTree</a>(</span><span class="m-doc-wrap">)</span>
            </dt>
            <dd>Save the network to a TTree.</dd>
          </dl>
        </section>
        <section id="pro-methods">
          <h2><a href="#pro-methods">Protected functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a9405c4d3bc8d67cb32e315bc7f1b47aa" class="m-doc">print</a>(</span><span class="m-doc-wrap">std::ostream&amp; strm) const <span class="m-label m-flat m-warning">override</span></span>
            </dt>
            <dd>Write a short description of this net to the string stream.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#adc546e376cfb7a609d837a6b4bf3a05d" class="m-doc">setupPersistedVariables</a>(</span><span class="m-doc-wrap">) <span class="m-label m-flat m-warning">override</span></span>
            </dt>
            <dd>Perform actions that prep data to create the net.</dd>
          </dl>
        </section>
        <section id="pro-attribs">
          <h2><a href="#pro-attribs">Protected variables</a></h2>
          <dl class="m-doc">
            <dt>
              std::string <a href="#a9680fd93148db775040bc95ddf17c833" class="m-doc">m_json</a>
            </dt>
            <dd>String containing json input file.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="acb9b2432f03458c908189c14038ebf07"><div>
            <h3>
              <span class="m-doc-wrap-bumper"> VNetworkLWTNN::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#acb9b2432f03458c908189c14038ebf07" class="m-doc-self">VNetworkLWTNN</a>(</span><span class="m-doc-wrap">const <a href="classVNetworkLWTNN.html" class="m-doc">VNetworkLWTNN</a>&amp; copy_from)</span></span>
            </h3>
            <p><a href="classVNetworkLWTNN.html" class="m-doc">VNetworkLWTNN</a> copy constructor.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">copy_from</td>
                  <td>existing network that we are copying</td>
                </tr>
              </tbody>
            </table>
<p>Will copy the variables that would be generated by setupPersistedVariables and setupNet. Will fail if deleteAllButNet has already been called.</p>
          </div></section>
          <section class="m-doc-details" id="a2e82d2bc703228de253d4397e401b877"><div>
            <h3>
              <span class="m-doc-wrap-bumper"> VNetworkLWTNN::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a2e82d2bc703228de253d4397e401b877" class="m-doc-self">VNetworkBase</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
            <p><a href="classVNetworkBase.html" class="m-doc">VNetworkBase</a> default constructor.</p>
<p>For use in streamers.</p>
          </div></section>
          <section class="m-doc-details" id="af0ce4f963d627913b64550927dfe65aa"><div>
            <h3>
              <span class="m-doc-wrap-bumper"> VNetworkLWTNN::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#af0ce4f963d627913b64550927dfe65aa" class="m-doc-self">VNetworkBase</a>(</span><span class="m-doc-wrap">) <span class="m-label m-info">explicit</span> </span></span>
            </h3>
            <p><a href="classVNetworkBase.html" class="m-doc">VNetworkBase</a> constructor.</p>
<p>Only saves inputFile to m_inputFile; Inheriting classes should call setupPersistedVariables and setupNet in constructor;</p>
          </div></section>
          <section class="m-doc-details" id="ac0a4898e4187e4d44fb53ef860ee6dde"><div>
            <h3>
              <span class="m-doc-wrap-bumper"> VNetworkLWTNN::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ac0a4898e4187e4d44fb53ef860ee6dde" class="m-doc-self">VNetworkBase</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
            <p><a href="classVNetworkBase.html" class="m-doc">VNetworkBase</a> copy constructor.</p>
<p>Does not call setupPersistedVariables or setupNet but will pass on m_inputFile. Inheriting classes should do whatever they need to move the variables created in the setup functions.</p>
          </div></section>
          <section class="m-doc-details" id="a38dbb4f206b74ef061cd01c3061aff0a"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void VNetworkLWTNN::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a38dbb4f206b74ef061cd01c3061aff0a" class="m-doc-self">writeNetToTTree</a>(</span><span class="m-doc-wrap">TTree&amp; tree) <span class="m-label m-warning">override</span></span></span>
            </h3>
            <p>Save the network to a TTree.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">tree</td>
                  <td>The tree to save inside.</td>
                </tr>
              </tbody>
            </table>
<p>All data required to recreate the network object is saved into a TTree. The format is not specified.</p>
          </div></section>
          <section class="m-doc-details" id="a0f14840c2389a267313145fded6c911a"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void VNetworkLWTNN::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a0f14840c2389a267313145fded6c911a" class="m-doc-self">deleteAllButNet</a>(</span><span class="m-doc-wrap">) <span class="m-label m-warning">override</span></span></span>
            </h3>
            <p>Get rid of any memory objects that aren&#x27;t needed to run the net.</p>
<p>Minimize memory usage by deleting nay inputs that are no longer required to run the compute function. Will prevent the net from being saved, if you need to call writeNetToTTree that must happen before this is called.</p>
          </div></section>
          <section class="m-doc-details" id="a67a72e59de0fce8cd056fdb5429ec0b3"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void VNetworkLWTNN::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a67a72e59de0fce8cd056fdb5429ec0b3" class="m-doc-self">writeNetToTTree</a>(</span><span class="m-doc-wrap">) <span class="m-label m-warning">pure virtual</span></span></span>
            </h3>
            <p>Save the network to a TTree.</p>
<p>All data required to recreate the network object is saved into a TTree. The format is not specified.</p>
          </div></section>
          <section class="m-doc-details" id="a365a55b8d028e0c9c2b39c72cd861933"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void VNetworkLWTNN::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a365a55b8d028e0c9c2b39c72cd861933" class="m-doc-self">writeNetToTTree</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
            <p>Save the network to a TTree.</p>
<p>All data required to recreate the network object is saved into a TTree. The format is not specified.</p>
          </div></section>
          <section class="m-doc-details" id="aeb2725fc6b5413c92f2e4619941b0d2e"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void VNetworkLWTNN::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#aeb2725fc6b5413c92f2e4619941b0d2e" class="m-doc-self">writeNetToTTree</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
            <p>Save the network to a TTree.</p>
<p>All data required to recreate the network object is saved into a TTree. The format is not specified.</p>
          </div></section>
          <section class="m-doc-details" id="a9405c4d3bc8d67cb32e315bc7f1b47aa"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void VNetworkLWTNN::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a9405c4d3bc8d67cb32e315bc7f1b47aa" class="m-doc-self">print</a>(</span><span class="m-doc-wrap">std::ostream&amp; strm) const <span class="m-label m-warning">override</span> <span class="m-label m-warning">protected</span></span></span>
            </h3>
            <p>Write a short description of this net to the string stream.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">strm</td>
                  <td>output parameter, to which the description will be written.</td>
                </tr>
              </tbody>
            </table>
<p>Outputs a printable name, which maybe a file name, or a note specifying that the file has been provided from memory.</p>
          </div></section>
          <section class="m-doc-details" id="adc546e376cfb7a609d837a6b4bf3a05d"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void VNetworkLWTNN::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#adc546e376cfb7a609d837a6b4bf3a05d" class="m-doc-self">setupPersistedVariables</a>(</span><span class="m-doc-wrap">) <span class="m-label m-warning">override</span> <span class="m-label m-warning">protected</span></span></span>
            </h3>
            <p>Perform actions that prep data to create the net.</p>
<p>Will be called in the base class constructor before calling setupNet, but not in the streamer. It sets any variables that the sreamer would persist when saving or loading to file.</p>
          </div></section>
        </section>
        <section>
          <h2>Variable documentation</h2>
          <section class="m-doc-details" id="a9680fd93148db775040bc95ddf17c833"><div>
            <h3>
              std::string VNetworkLWTNN::<wbr /><a href="#a9680fd93148db775040bc95ddf17c833" class="m-doc-self">m_json</a> <span class="m-label m-warning">protected</span>
            </h3>
            <p>String containing json input file.</p>
<p>Is needed to save the network with writeNetToTTree but not needed to run the network with compute. Is eraised by deleteAllButNet Should be persisted.</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>FastCaloSim. Created with <a href="https://doxygen.org/">Doxygen</a> 1.8.16 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
