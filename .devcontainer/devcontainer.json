{
    // AlmaLinux9 container that already contains all project dependencies
    "image": "jbeirer/alma9-fastcalosim:latest",

    // Activate vs code extensions and set cmake path
    "customizations": {
        "vscode": {
          "extensions": ["ms-vscode.cpptools", "llvm-vs-code-extensions.vscode-clangd", "ms-vscode.cmake-tools", "ibm.output-colorizer"],
          "settings": {
            "cmake.cmakePath": "/usr/bin/cmake"
          }
        }
    },

    // Command to run after the container is created
    // A) Set up the ROOT environment, note that the docker ENTRYPOINT is ignored by the .devcontainer
    // B) Install dev packages such as static analyzers and debuggers that are not direct project dependencies
    // Note: this gives us clang-format version 16.0.6, make sure to use identical version in CI
    "postCreateCommand": [
      "/bin/bash",
      "-c",
      "echo 'source /root-install/bin/thisroot.sh' >> /root/.bashrc && dnf update -y && dnf install -y clang-tools-extra cppcheck gdb python3-pip && pip3 install codespell"
    ]
}